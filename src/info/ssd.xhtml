<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta name="generator"
      content="HTML Tidy for Java (vers. 2009-12-01), see jtidy.sourceforge.net" />
      <meta name="generator" content="Bluefish 1.0.7" />
      <title>
         Installation d'un SSD
      </title>
      <meta http-equiv="Content-Type"
      content="application/xhtml+xml; charset=UTF-8" />
      <meta name="author" content="Eric Buist" />
      <meta name="viewport"
      content="width=device-width, initial-scale=1.0" />
      <meta name="HandheldFriendly" content="true" />
      <link rel="stylesheet" type="text/css" href="../main.css" />
   </head>
   <body>
      <table class="topnavbar" width="100%">
         <tr>
            <td class="parents" colspan="3">
               <a href="../index.xhtml" class="parents">Le royaume
               de Eric Buist</a> &gt;&gt; <a href="index.xhtml"
               class="parents">Informatique</a> &gt;&gt;
               Configuration informatique
            </td>
         </tr>
         <tr>
            <td class="contact">
               <a href="../contact.xhtml" class="contact">Me
               contacter</a>
            </td>
            <td class="topnavbar">
            </td>
            <td class="sitemap">
               <a href="../sitemap.xhtml" class="sitemap">Plan du
               site</a>
            </td>
         </tr>
         <tr>
            <td class="leftsibling">
               &lt;&lt; <a href="windows7.xhtml"
               class="leftsibling">Installation de Windows 7</a>
            </td>
            <td class="thispage">
               Installation d'un SSD
            </td>
            <td class="rightsibling">
               <a href="drake/index.xhtml" class="rightsibling">Le
               Drake</a> &gt;&gt;
            </td>
         </tr>
      </table>
      <h1>
         Installation d'un SSD: encore de la bidouille à faire et
         des problèmes avec Windows
      </h1>
      <p>
         Jeudi, 24 mai 2012, je me suis décidé à commander un
         disque dur de type SSD sur le site <a
         href="http://www.tigerdirect.ca">TigerDirect</a>.
         Qu'est-ce qu'un SSD? L'acronyme signifie Solid State
         Drive, ce qui ne veut pas dire grand-chose pour la plupart
         des gens, il faut l'admettre. Un SSD, c'est un disque dur
         dont la technologie n'implique aucune pièce mobile. Les
         données sont stockées dans une mémoire de type flash du
         genre de celle utilisée sur les clés USB, mais la mémoire
         d'un SSD est plus grande et plus rapide que celle d'une
         simple clé USB. Sur une machine de bureau, le bénéficie
         principal d'un SSD est la performance. Dans le cas d'un
         laptop, le SSD apporte en plus une réduction substantielle
         du bruit de la machine et une économie d'énergie. Par
         contre, un SSD mal configuré est susceptible de devenir
         lent ou même défectueux!
      </p>
      <p>
         Cette page relate les différents épisodes de cette
         histoire qu'a été l'installation du disque. Il m'a fallu
         user de beaucoup d'astuce pour le faire entrer dans mon
         boîtier d'ordinateur actuel et pour venir à bout de
         transférer mes logiciels dessus sans tout réinstaller.
         Mais le résultat est satisfaisant.
      </p>
      <ul class="pagemenu">
         <li>
            <a href="#case">Le boîtier Antec cause problème</a>
         </li>
         <li>
            <a href="#puzzle">Un casse-tête de fou</a>
         </li>
         <li>
            <a href="#vis">La vis qui traverse le temps</a>
         </li>
         <li>
            <a href="#act">Activation du SSD</a>
         </li>
         <li>
            <a href="#conc">Et qu'est-ce que ça donne tout ça?</a>
         </li>
      </ul>
      <h1>
         <a id="case" name="case">Le boîtier Antec cause
         problème</a>
      </h1>
      <p>
         Le disque choisi était le Agility 3 de marque OCZ, d'une
         capacité de 120Go. Ça a l'air petit me direz-vous, mais
         gardez à l'esprit qu'on peut jumeler le SSD avec un disque
         dur conventionnel, du moins dans un ordinateur de bureau.
         Mon plan était d'installer le disque dans ma machine
         actuelle, expérimenter, m'assurer que la technologie
         actuelle est assez fiable pour mes besoins, puis
         transférer le disque dans un éventuel ordinateur neuf.
      </p>
      <p>
         Première difficulté: les disques SSD sont de format 2.5"
         tandis que les boîtiers standard pour ordinateurs de table
         n'acceptent que les disques de 3.5". Il faut donc un
         adaptateur pour faire entrer le SSD là-dedans. J'en
         trouvai un sur TigerDirect: 40$!!! C'était complètement
         débile, à se tirer une balle: ça annulait complètement le
         rabais sur le SSD! J'ai cherché, et n'ai pas pu trouver
         d'autres choses. J'ai fini par envoyer un e-mail à
         TigerDirect et j'ai obtenu une réponse le lendemain: il y
         avait un adaptateur à 9.99$. Super!
      </p>
      <p>
         Mais à regarder de plus près, je constatai qu'il y avait
         un véritable mur, de briques celui-là! Les disques durs
         d'ordinateurs sont pourvus de différents trous pour
         permettre leur fixation avec des vis. Il y a deux trous
         sur la face droite, deux autres sur la face gauche et
         quatre sur la face inférieure. Habituellement, on utilise
         les trous latéraux pour visser le disque, mais certains
         boîtiers, comme ma tour Lifestyle Sonata II de marque
         Antec, se servent des trous inférieurs pour fixer les
         disques à des plateaux amovibles! Eh bien la bracket ne
         fournissait que les trous latéraux, pas les trous
         inférieurs! J'étais donc pris au pied du mur, sans autre
         solution que laisser tomber le SSD ou changer mon boîtier
         pour l'avoir. Mais tant qu'à changer le boîtier, autant
         acheter toutes les autres pièces et monter une nouvelle
         machine dans le nouveau boîtier!!!
      </p>
      <p>
         Comme on peut s'y attendre, je ne pouvais juste pas en
         rester là. Il me fallait vérifier si j'étais vraiment
         bloqué! J'ouvris donc ma tour, retirai un plateau vide et
         l'examinai. J'y trouvai alors un trou chaque côté! Il
         semblait donc possible de visser le disque SSD là-dedans,
         mais il se pouvait aussi que les vis interfèrent avec le
         glissement du plateau dans le boîtier ou que les trous ne
         soient juste pas faits pour accueillir les vis! Ça se
         pouvait que ce soient des trous d'aération ou dans
         lesquels un mécanisme de rétention du plateau s'insère.
      </p>
      <h1>
         <a id="puzzle" name="puzzle">Un casse-tête de fou</a>
      </h1>
      <p>
         C'est seulement mardi, 5 juin, que j'eus toutes les pièces
         de mon casse-tête. Pour je ne sais quelle raison,
         TigerDirect a expédié ça en trois colis différents! Le
         premier contenait uniquement l'adaptateur, avec un cadre
         numérique que j'ai commandé pour ma mère et un clavier
         Bluetooth avec lequel je voulais expérimenter. Le deuxième
         colis contenait uniquement les fils SATA, ce qui m'a bien
         déçu et choqué un peu; quel gaspillage de ressources! Le
         dernier colis, c'était enfin le SSD! <img
         class="floatright" src="ssdparts.jpg"
         alt="Les trois parties principales du casse-tête SSD" />
      </p>
      <p>
         La figure ci-contre présente les trois composantes du
         système à assembler. À gauche, on peut voir l'adaptateur
         2.5" vers 3.5" dans sa boîte. Au centre se trouve le SSD
         tel que je l'ai reçu. L'objet de droite, eh bien c'est
         l'un des plateaux provenant de mon boîtier Antec. Il va
         falloir combiner ces trois objets avec des vis pour
         pouvoir insérer le SSD dans mon ordinateur! <img
         class="floatleft" src="ssdbracket.jpg"
         alt="Le SSD installé dans l'adaptateur 2.5&quot; vers 3.5&quot;." />
      </p>
      <p>
         Comme le montre la figure de gauche, l'adaptateur 2.5"
         vers 3.5" permet bel et bien de fixer le disque SSD, mais
         certaines des vis fournies sont trop grosses et
         inutilisables. Mais il y avait aussi des vis de la bonne
         taille en fin de compte. C'est ainsi que je pus placer mon
         SSD à l'intérieur de l'adaptateur et l'y fixer en
         utilisant les trous latéraux du disque. L'adaptateur
         permet de fixer un deuxième SSD, en plus.
      </p>
      <p>
         <img src="ssdbadfit.jpg"
         alt="L'adaptateur est beacoup trop petit pour s'ajuster aux trous latéraux du plateau!" />
      </p>
      <p>
         Malheureusement, comme illustré sur la figure ci-haut,
         l'assemblage ne s'adapte bel et bien pas à mon boîtier
         d'ordinateur. Les trous latéraux que j'ai remarqués sur
         les plateaux à disques durs dans ma tour ne permettent pas
         de faire entrer des vis et le plateau est plus large que
         la largeur de 3.5" de l'adaptateur. Comme prévu,
         l'adaptateur ne comporte pas de trous de vis en-dessous.
      </p>
      <p>
         J'ai planché là-dessus toute la soirée vendredi, 15 juin
         2012, sans succès. J'ai tenté de trouver des solutions de
         substitution, mais il semblait falloir commander un
         nouveau plateau auprès d'Antec. Je faillis le faire, mais
         je constatai que la pièce était en rupture de stock; ça
         pouvait prendre un temps fou avant de l'obtenir!
      </p>
      <p>
         Le lendemain matin, dans un élan d'inspiration digne d'un
         génie obsessif, j'ai tenté d'installer l'assemblage dans
         une baie pour lecteur de disquettes. Ça aurait pu
         fonctionner, ne puis-je cesser de penser! La figure de
         droite montre la cage dans laquelle j'ai tenté de visser
         le SSD. <img src="floppybay.jpg" class="floatright"
         alt="La cage de lecteurs de disquettes de mon boîtier Antec" />
         L'idée était de faire entrer l'assemblage de SSD,
         d'ajuster le cache Antec à l'avant pour dissimuler le
         disque et gosser ça pour que tout se visse en place. Je
         m'attendais à ce que ça tienne à deux vis, mais c'était
         bien suffisant.
      </p>
      <p>
         Ça entrait parfaitement, mais les trous de vis ne
         s'alignent pas! J'ai essayé longtemps, puis je me suis
         bien rendu compte qu'il n'y avait rien à faire. La figure
         ci-bas en témoigne cruellement.
      </p>
      <p>
         <img src="badholes.jpg"
         alt="Des trous qui ne s'alignent décidément pas" />
      </p>
      <h1>
         <a id="vis" name="vis">La vis qui traverse le temps</a>
      </h1>
      <p>
         Ne pouvant m'arrêter là, je poursuivis mes recherches et
         fis une nouvelle tentative. J'avais affaire au
         centre-ville ce samedi-là, pour le Mondial de la Bière.
         Avant d'aller rejoindre ma soeur là-bas, je fis un saut
         chez MicroBytes et pus obtenir un nouveau support,
         différent du premier, et susceptible de fonctionner
         celui-là! Malheureusement, comme je le constatai à mon
         retour du Mondial, à moitié mort et à moitié zombi, ce
         support non plus ne faisait pas le travail. <img
         src="oczbracket.jpg" class="floatright"
         alt="Le nouveau support à SSD, toujours incompatible" />
         La figure de droite montre une image de ce nouveau
         support. Les trous de vis étaient encore sur le côté
         seulement! Le SSD, lui, était fixé au support par des vis
         en-dessous. À bout d'idées et d'énergie, je posai la chose
         sur ma table de chevet et me laissai aller dans un sommeil
         troublé par l'alcool. Je ne dormis pas très bien cette
         nuit-là, mais le lendemain matin, j'avais une idée à
         tenter! J'ai décidé de la baptiser la patch du docteur!
      </p>
      <p>
         Ce n'est pas parfait, le disque peut bouger, mais au moins
         il ne peut pas tomber si je déplace la tour. L'idée de
         base était d'aligner au moins un trou de vis du plateau à
         disque de mon boîtier Antec avec un trou du support 2.5"
         vers 3.5" trouvé chez MicroBytes et permettant de fixer le
         SSD. La vis devait être assez longue pour passer à travers
         les caoutchoucs du plateau Antec (mais au pire j'ai trouvé
         comment enlever les caoutchoucs) et le support de
         MicroBytes pour ensuite aller se loger dans un trou du
         disque lui-même! Le passé, à savoir ce vieux plateau
         poussiéreux, devait ainsi rejoindre le futur, c'est-à-dire
         le SSD, en passant par le support symbolisant le présent!
         C'était donc toute une vis que ça prenait là!
      </p>
      <p>
         La vis normalement utilisée pour la fixation de disques
         durs sur ces plateaux ne fonctionnait pas: trop grosse,
         n'entrait pas dans le SSD! Les vis venant avec
         l'adaptateur étaient de la bonne taille pour le SSD mais
         pas assez longues pour permettre d'appliquer ma stratégie.
         J'ai fouillé et trouvé par hasard une vis qui a fait le
         travail; je ne sais pas à quoi elle est destinée
         d'origine. Ainsi, j'ai fixé le SSD au nouveau support avec
         trois vis seulement, puis j'ai utilisé le quatrième trou,
         vacant, pour fixer le support au plateau Antec. Cette
         stratégie de mon crû n'a permis de fixer le disque que par
         une vis, si bien qu'il peut bouger.
      </p>
      <p>
         L'image suivante montre le SSD fixé au nouveau support, en
         utilisant trois vis de longueur habituelle pour cette
         tâche et la vis trop longue destinée à appliquer la patch
         du docteur.
      </p>
      <p>
         <img src="oczpatch.jpg"
         alt="SSD fixé au nouveau support" />
      </p>
      <p>
         L'image suivante montre la vis en position finale,
         traversant effectivement les trois couches et permettant
         de réaliser un assemblage minimal!
      </p>
      <p>
         <img src="masterscrew.jpg"
         alt="La vis en place, unissant le plateau, le support et le SSD!" />
      </p>
      <p>
         Ensuite, j'ai inséré ce précieux assemblage dans mon
         boîtier et l'ai branché. J'ai eu un peu de misère à
         effectuer le raccordement SATA, j'ai bien cru que même le
         connecteur avait changé de format avec le temps, mais
         finalement, ça s'est enfiché! L'installation du disque fut
         donc un succès et le disque SSD fonctionna parfaitement!
      </p>
      <h1>
         <a id="act" name="act">Activation du SSD</a>
      </h1>
      <p>
         C'est bien beau installer un SSD dans un ordinateur, et
         normalement c'est plus simple à effectuer que dans mon cas
         particulier, mais encore faut-il pouvoir y mettre son
         système d'exploitation pour pouvoir utiliser ce disque à
         son plein potentiel. C'est cela que j'ai fait vendredi, 15
         juin 2012. La méthode la plus simple est de simplement
         brancher le disque de sorte que la machine amorce ce
         dernier, puis réinstaller complètement Windows et Linux
         dessus. Mais j'ai eu tellement de bidouilles à faire sous
         Windows 7 que je ne voulais pas tout recommencer ça! Un
         transfert de données s'imposait, et c'est parfaitement
         possible si on planifie bien les choses. Il me faudra un
         jour construire un tutoriel détaillé avec des vidéos pour
         illustrer ce processus qui m'a servi bien des fois par le
         passé.
      </p>
      <p>
         La première étape est d'amorcer la machine avec un CD
         contenant un logiciel de partitionnement. Par le passé, on
         utilisait pour cela le vénérable Partition Magic, mais de
         nos jours, un live CD d'Ubuntu avec GParted fait
         parfaitement le boulot. Parfois, par contre, il faut
         utiliser un live CD de GParted, mais ça c'est une autre
         histoire. Le système d'exploitation amorcé depuis le CD,
         il faut ensuite démarrer GParted.
      </p>
      <p>
         Le problème principal est de faire en sorte que le système
         ne voit qu'une seule copie de sa partition principale.
         S'il y a une copie sur deux disques différents, il y a un
         risque que le système se mêle et amorce depuis l'ancienne
         partition! Il faut donc supprimer la partition originale
         après le transfert, ce qui est risqué, ou encore
         débrancher le disque source. Mais le disque source devait
         demeurer dans la machine, étant mon disque de données!
      </p>
      <p>
         Pour procéder à ce transfert plus délicat que prévu, je
         décidai de copier les partitions sur un disque dur
         externe, branché via USB. Je programmai donc GParted pour
         copier Windows et Linux, octet par octet, sur le disque
         externe, puis recommencer la copie, cette fois sur le SSD.
         Sous mes ordres, GParted devait ensuite faire passer la
         taille de la partition de Windows de 60Go à 100Go et
         laisser 20Go à Ubuntu. Pendant la longue opération de
         transfert, je finis ma vaisselle et jouai un peu avec ma
         tablette Android.
      </p>
      <p>
         Mais à bien y penser, je trouvais ça très risqué de
         supprimer mes systèmes d'exploitation de mon disque source
         sans avoir testé le SSD au préalable. En cas de pépin, je
         voulais pouvoir tout simplement débrancher mon SSD et
         profiter de mon ordinateur malgré tout, puis tenter la
         réinstallation complète seulement quand je serais prêt.
         Pour réduire le risque, après le transfert fructueux
         (fiou!), j'éteignis la machine, débranchai le disque dur
         d'origine, puis rallumai sous Ubuntu Live CD. De là, je
         procédai à la <a
         href="https://help.ubuntu.com/community/RecoveringUbuntuAfterInstallingWindows">réinstallation
         de GRUB</a> sur le SSD. Je fis ensuite une révision de mon
         <tt>/etc/fstab</tt> sur ma partition Ubuntu, mais le UUID
         des nouvelles partitions sur le SSD correspondaient aux
         anciennes. Je n'eus donc pratiquement rien à changer, à
         part ajouter l'option <tt>discard</tt> à la partition Ext4
         sur le SSD. Cette option indique au système de rapporter
         les blocs inutilisés au disque dur par le biais de
         commandes TRIM. C'est vital pour que la performance du
         disque demeure stable dans le temps.
      </p>
      <p>
         Je démarrai ensuite la machine sous Windows, le système
         qui m'inquiétait le plus. Eh bien, cela échoua. Je dus
         donc chercher mon DVD de Windows, j'eus beaucoup de misère
         à le trouver, et quand je l'eus, je l'insérai dans la
         machine et redémarrai encore. Sous l'installateur de
         Windows 7, je cliquai sur Réparer. Comme la dernière fois,
         Windows ne parvenait pas à trouver mon installation et ne
         proposait comme solution que le chargement d'un pilote.
         Par contre, il y avait une deuxième option consistant à
         restaurer le système depuis une image. Je la tentai et je
         me vis offrir plusieurs choix, dont un pour réparer le
         démarrage. J'essayai ça et cela porta fruit! Je pus ainsi
         démarrer sous Windows 7, mais il effectua un scan de sa
         partition, redémarra encore, puis il se plaignit de
         l'absence du lecteur D, une partition de données se
         trouvant sur mon disque dur débranché. Mais j'ai atteint
         le Bureau; le système était fonctionnel!
      </p>
      <p>
         J'éteignis donc tout, rebranchai le disque dur et
         redémarrai encore le live CD d'Ubuntu. C'est une étape
         cruciale: si Windows, par malheur, avait réussi à démarrer
         à ce moment-là, tout aurait été à recommencer! Sous Ubuntu
         Live CD, je supprimai la partition de Windows et de Linux
         sur le disque dur de données et la remplaçai par une
         partition Ext4 de 120Go. Je redémarrai ensuite la chose et
         laissai Windows s'activer... avec succès! Première moitié
         accomplie.
      </p>
      <p>
         Ensuite, je fis un essai avec Linux qui eut des ratés.
         D'abord, GRUB foira et ne parvint pas à activer la pleine
         résolution. Il y eut ensuite le cafouillis qui me bloqua
         l'accès à la console et puis tout figea. Je dus
         redémarrer, et cette fois l'accès à la console fonctionna.
         Ceci est un problème différent, causé par ma carte
         graphique prise en charge partiellement par le noyau.
         C'est là que je pus lire le message affiché par Ubuntu:
         une partition était inaccessible. J'indiquai de la sauter
         avec la touche S puis modifiai <tt>/etc/fstab</tt> pour
         supprimer sa référence. C'était une des partitions que
         j'avais supprimées du disque dur. Le redémarrage suivant
         sous Linux réussit à la perfection!
      </p>
      <h1>
         <a id="conc" name="conc">Et qu'est-ce que ça donne tout
         ça?</a>
      </h1>
      <p>
         Eh bien la machine est plus rapide à démarrer, tout
         simplement! Ça ne va pas vraiment plus loin que ça, mais
         c'est déjà un plus, non?
      </p>
      <p>
         Que vais-je faire avec cet adapteur de trop qui ne
         fonctionnait pas? Eh bien, mon prochain ordinateur, déjà
         nommé le Drake, aura un boîtier plus conventionnel dans
         lequel l'adaptateur sera présent et il y aura deux
         nouveaux SSD branchés dessus: un avec Windows, l'autre
         avec Linux. Le SSD que j'ai là, sur son support OCZ, aura
         droit à une tentative d'installation de Mac OS X! Eh oui,
         je prévois que ma prochaine machine sera un authentique
         Hacintosh à triple amorçage! De quoi m'amuser et galérer
         des heures et des heures...
      </p>
      <div class="footer">
         <a href="http://validator.w3.org/check?uri=referer"><img
         src="http://www.w3.org/Icons/valid-xhtml10"
         alt="Valid XHTML" height="31" width="88" /></a><a
         href="http://jigsaw.w3.org/css-validator/check/referer"><img
          src="http://jigsaw.w3.org/css-validator/images/vcss"
         alt="Valid CSS" height="31" width="88" /></a>
      </div>
   </body>
</html>

