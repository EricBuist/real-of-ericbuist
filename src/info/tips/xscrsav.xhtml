<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta name="generator"
      content="HTML Tidy for Java (vers. 2009-12-01), see jtidy.sourceforge.net" />
      <title>
         Configurer XScreenSaver pour KDE
      </title>
      <meta http-equiv="Content-Type"
      content="application/xhtml+xml; charset=UTF-8" />
      <meta name="author" content="Eric Buist" />
      <meta name="viewport"
      content="width=device-width, initial-scale=1.0" />
      <meta name="HandheldFriendly" content="true" />
      <link rel="stylesheet" type="text/css"
      href="../../main.css" />
   </head>
   <body>
      <table class="topnavbar" width="100%">
         <tr>
            <td class="parents" colspan="3">
               <a href="../../index.xhtml" class="parents">Le
               royaume de Eric Buist</a> &gt;&gt; <a
               href="../index.xhtml"
               class="parents">Informatique</a> &gt;&gt;
               Quelques-unes de mes recherches personnelles
               &gt;&gt; <a href="index.xhtml" class="parents">Trucs
               et astuces</a>
            </td>
         </tr>
         <tr>
            <td class="contact">
               <a href="../../contact.xhtml" class="contact">Me
               contacter</a>
            </td>
            <td class="topnavbar">
            </td>
            <td class="sitemap">
               <a href="../../sitemap.xhtml" class="sitemap">Plan
               du site</a>
            </td>
         </tr>
         <tr>
            <td class="leftsibling">
               &lt;&lt; <a href="webprint.xhtml"
               class="leftsibling">Impression de pages Web sous
               Linux</a>
            </td>
            <td class="thispage">
               Configurer XScreenSaver pour KDE
            </td>
            <td class="rightsibling">
               <a href="qtwin.xhtml" class="rightsibling">Qt sous
               Windows</a> &gt;&gt;
            </td>
         </tr>
      </table>
      <h1>
         Configurer XScreenSaver pour KDE
      </h1>
      <p>
         Tout d'abord, qu'est-ce que XScreenSaver et KDE? <a
         href="http://www.jwz.org/xscreensaver">XScreenSaver</a>
         constitue un ensemble d'écrans de veille pour X Window
         System tandis que <a href="http://www.kde.org">KDE</a> est
         un environnement de travail fournissant sous X un bureau,
         un menu de programmes, un explorateur de fichiers ainsi
         qu'un navigateur Internet. À première vue, ces deux
         applications n'ont rien en commun, mais il est intéressant
         de les intégrer l'une dans l'autre.
      </p>
      <p>
         Dans le menu K, on peut trouver l'option Control Center
         qui mène à un panneau de contrôle permettant de modifier
         les options utilisateur de l'environnement KDE. Sous KDE
         1, dans l'onglet Desktop, on trouve Screen Saver. Sous KDE
         2, la même option se trouve dans Look &amp; Feel, et se
         nomme Screensaver. Ce panneau offre la possibilité de
         choisir un écran de veille ainsi que ses paramètres.
      </p>
      <p>
         <img src="kscrsav.png"
         alt="Option d'écran de veille de KDE 2" />
      </p>
      <p>
         On peut ici demander un mot de passe pour déverouiller
         l'écran de veille, ce qui correspondra au mot de passe de
         l'utilisateur. Le bouton Setup permet de configurer
         l'écran de veille choisi tandis que Test permet d'en
         obtenir un aperçu. On se rend compte que ce schéma répond
         bien au modèle de Microsoft tel qu'implanté dans Windows,
         mais cela ne va pas plus loin que cela... Sous KDE 2, le
         nombre d'écrans de veille est moins grand, en plus.
      </p>
      <p>
         Il existe plusieurs façons de contourner cette limitation:
         soit se plier et tenter de trouver sur Internet d'autres
         écrans de veille, ce qui se fait un à la fois et apporte
         plus souvent qu'autre chose déception ou nécessité de
         payer. Pire, il sera encore plus difficile de trouver un
         écran de veille KDE qu'un au format exécutable Windows!
         Une solution simple consiste à utiliser un des écrans
         fournis avec KDE, bien que cela ne nous plaise pas
         toujours, ou ne pas en mettre du tout.
      </p>
      <p>
         Mais un logiciel vient alors à notre rescousse:
         XScreenSaver. Ce programme offre une gamme étendue
         d'écrans de veille qui s'alternent de façon aléatoire.
         L'application comporte deux parties. Le serveur qui est
         démarré au début de la session X par la commande
         <tt>xscreensaver</tt> s'installe en arrière-plan afin de
         surveiller le temps d'inactivité pour activer l'écran de
         veille au bon moment. Le client, nommé
         <tt>xscreensaver-command</tt>, permet à l'utilisateur de
         contrôler le serveur.
      </p>
      <p>
         Malheureusement, ce système ne fonctionne bien que sous X
         sans interférence d'un Window Manager intégrant déjà
         l'écran de veille, comme KDE. Il est envisageable de
         passer à GNOME ou AfterStep si on veut utiliser
         XScreenSaver, mais pourquoi ne pas plutôt trouver une
         façon de le faire fonctionner sous KDE?
      </p>
      <p>
         Pour ce faire, il faut tout d'abord inhiber l'écran de
         veille de KDE, et cela complètement. Sous KDE 1, cela se
         fait en choisissant No screensaver comme écran de veille.
         Sous KDE 2, il faut décocher Enable screensaver. Lorsque
         cela est fait, il devient possible de mettre en marche le
         daemon XScreenSaver et espérer que cela fonctionne. Bien
         que KDE 1 dispose de l'écran de veille XScreenSaver, il ne
         fonctionne pas bien lorsqu'on demande une protection par
         mot de passe.
      </p>
      <p>
         Pour cela, KDE peut nous aider, car il dispose d'une
         fonction Autostart. Il est important que XScreenSaver soit
         mis en marche après le chargement de KDE, et non pas
         avant, sinon il ne fonctionne pas. Sur le bureau, cliquez
         sur Autostart, ce qui fera surgir une fenêtre. Sous KDE 1,
         il faut double-cliquer, si je me souviens bien.
      </p>
      <p>
         <img src="autostart.png"
         alt="Fenêtre Autostart de KDE 2" />
      </p>
      <p>
         Cliquez droit dans la fenêtre ainsi ouverte, ce qui fera
         surgir un menu. Sous KDE 1, sélectionnez New, puis
         Application. Sous KDE 2, sélectionnez Create New, puis
         Link To Application. Le nom de l'application sera demandé,
         on peut y entrer XScreenSaver, ce qui deviendra le nom du
         raccourci dans la fenêtre Autostart. Sous KDE 1, la
         création s'arrête là et il faut cliquer droit sur la
         nouvelle icône puis sélectionner Properties. Sous KDE 2,
         une boîte de dialogue apparaît et on peut tout configurer
         d'un coup. Dans tous les cas, l'onglet Execute doit être
         activé afin de sélectionner quel programme doit être
         démarré par ce raccourci.
      </p>
      <p>
         Le chemin exact vers XScreenSaver doit être entré, il peut
         être obtenu par la commande <tt>which xscreensaver</tt> et
         doit être saisi dans Command.
      </p>
      <p>
         <img src="exec.png"
         alt="L'onglet Execute des propriétés d'un raccourci dans KDE 2" />
      </p>
      <p>
         Au prochain démarrage de KDE, XScreenSaver devrait être
         activé, mais pourquoi attendre ce moment? Il est possible
         d'appeler le programme directement depuis une ligne de
         commande. La commande Run Command, qu'on peut appeler par
         ALT-F2, peut recevoir <tt>xscreensaver</tt> comme
         paramètre. Dans le cas d'un appel à partir de Konsole ou
         XTerm, il vaut mieux suivre la commande du symbole
         <tt>&amp;</tt> afin de permettre l'exécution en
         arrière-plan.
      </p>
      <p>
         Il reste maintenant à configurer le joujou, ce qui se fait
         à l'aide de la commande <tt>xscreensaver-demo</tt>. Elle
         fait surgir une boîte de dialogue avec deux onglets.
      </p>
      <p>
         <img src="xscrdem.png"
         alt="Liste des écrans de veille disponibles" />
      </p>
      <p>
         <img src="xscrsetup.png"
         alt="Onglet Screensaver options de la configuration de XScreenSaver" />
      </p>
      <p>
         Il est ici possible de configurer les paramètres du
         programme qui sera mémorisés dans un fichier par la suite.
         Certaines versions de l'application sont pourvues d'un
         bouton OK et Cancel et il ne faut pas oublier, dans ce
         cas, d'appuyer sur OK pour valider les changements. Si les
         changements ne sont pas validés, il peut être nécessaire
         d'utiliser la commande Restart Daemon du menu File.
      </p>
      <p>
         Il reste maintenant à tester si l'écran de veille
         fonctionne réellement. La commande
         <tt>xscreensaver-command -activate</tt> permet d'activer
         l'écran de veille tandis que <tt>xscreensaver-command
         -lock</tt> verrouillera l'écran. Ces deux commandes
         doivent fonctionner correctement, sinon c'est peine
         perdu... Ensuite, reste le test de l'attente: voir si
         après le délai fixé, l'écran de veille surgit. Ce qui
         devrait être le cas si le daemon est en marche et bien
         configuré.
      </p>
      <p>
         L'astuce fonctionne très bien sous KDE à une exception
         près: la commande Lock Screen du menu K fera maintenant
         surgir un écran noir plutôt qu'un véritable écran de
         veille, mais cela n'affectera pas la sécurité du verrou.
         Il est possible, en utilisant <tt>xscreensaver-command
         -lock</tt>, de verrouiller l'écran avec un écran de
         veille, mais il faudra appeler la commande manuellement,
         depuis un shell par exemple.
      </p>
      <div class="footer">
         <a href="http://validator.w3.org/check?uri=referer"><img
         src="http://www.w3.org/Icons/valid-xhtml10"
         alt="Valid XHTML" height="31" width="88" /></a><a
         href="http://jigsaw.w3.org/css-validator/check/referer"><img
          src="http://jigsaw.w3.org/css-validator/images/vcss"
         alt="Valid CSS" height="31" width="88" /></a>
      </div>
   </body>
</html>

