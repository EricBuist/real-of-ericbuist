<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta name="generator"
      content="HTML Tidy for Java (vers. 2009-12-01), see jtidy.sourceforge.net" />
      <meta name="generator" content="Bluefish 1.0.7" />
      <title>
         Amélioration de la performance de mon portable
      </title>
      <meta http-equiv="Content-Type"
      content="application/xhtml+xml; charset=UTF-8" />
      <meta name="author" content="Eric Buist" />
      <meta name="viewport"
      content="width=device-width, initial-scale=1.0" />
      <meta name="HandheldFriendly" content="true" />
      <link rel="stylesheet" type="text/css" href="../main.css" />
   </head>
   <body>
      <table class="topnavbar" width="100%">
         <tr>
            <td class="parents" colspan="3">
               <a href="../index.xhtml" class="parents">Le royaume
               de Eric Buist</a> &gt;&gt; <a href="index.xhtml"
               class="parents">Informatique</a> &gt;&gt;
               Configuration informatique
            </td>
         </tr>
         <tr>
            <td class="contact">
               <a href="../contact.xhtml" class="contact">Me
               contacter</a>
            </td>
            <td class="topnavbar">
            </td>
            <td class="sitemap">
               <a href="../sitemap.xhtml" class="sitemap">Plan du
               site</a>
            </td>
         </tr>
         <tr>
            <td class="leftsibling">
               &lt;&lt; <a href="vista.xhtml"
               class="leftsibling">Installation de Windows
               Vista</a>
            </td>
            <td class="thispage">
               Amélioration de la performance de mon portable
            </td>
            <td class="rightsibling">
               <a href="ard-nas/index.xhtml"
               class="rightsibling">A.R.D.-NAS, mon premier
               HTPC</a> &gt;&gt;
            </td>
         </tr>
      </table>
      <h1>
         Amélioration de la performance de mon portable
      </h1>
      <p>
         Mon portable, le <a
         href="nightmare/index.xhtml">Nightmare</a>, m'a posé
         plusieurs difficultés avec Linux, mais les choses se sont
         beaucoup améliorées au fil des nouvelles versions.
         Malheureusement, la machine manquait un peu de mémoire
         lorsque je me servais d'Eclipse et un problème de <a
         href="hw/hd.xhtml">disque dur</a> vint assombrir
         complètement le tableau. Je parvins à remettre la machine
         sur les rails en une fin de semaine, question de pouvoir
         aller chez Bell Canada pour ma bourse du CRSNG la semaine
         qui suivit, mais cela ne se fit pas sans un sacrifice: je
         dus me contenter d'un disque dur à 5400 tours/minute
         plutôt que profiter de l'occasion pour me doter d'un
         disque plus rapide, à 7200 tours/minute. Il s'avéra en
         fait que mon nouveau disque était plus lent que l'ancien!
      </p>
      <p>
         Pendant des semaines, j'ai hésité, mais j'ai fini par me
         décider à acheter un nouveau disque à mon goût et
         augmenter la quantité de mémoire de la machine. Mais
         alors, que faire avec l'ancien disque encore fonctionnel?
         Eh bien, j'allais le transformer en disque dur externe!
      </p>
      <p>
         Voici donc le récit de cette mise à jour qui, avouons-le,
         ne se fit pas sans heurt. Le résultat est certes celui
         auquel je m'attendais, mais cela s'est terminé par une
         amère déception et des doutes quant au degré de
         standardisation des pièces d'ordinateur, même dans le cas
         de machines de bureau!
      </p>
      <h1>
         Les pièces nécessaires
      </h1>
      <p>
         C'est dimanche, 29 juillet 2008, que je me décidai enfin à
         commander les trois pièces nécessaires pour mon projet de
         mise à jour:
      </p>
      <ul>
         <li>
            Un disque dur 2.5" SATA 2 à 7200 tours/minute, d'une
            taille de 160Go et de marque <a
            href="http://www.seagate.com">Seagate</a>
         </li>
         <li>
            Un boîtier pour disque dur 2.5" NexStar 3 de marque <a
            href="http://www.vantecusa.com">Vantec</a>
         </li>
         <li>
            Deux modules SODIMM de 1Go de méoire DDR2 PC2-5400 de
            marque <a href="http://www.kingston.com">Kingston</a>
         </li>
      </ul>
      <p>
         Je trouvai tout cela en ligne sur <a
         href="http://www.dytronix.com">Dytronix</a>. Comme on peut
         s'y attendre, le choix de ces trois articles est le fruit
         d'heures d'investigation!
      </p>
      <h2>
         Le disque dur
      </h2>
      <p>
         Pour ce qui est du disque, je savais que je devais
         chercher du côté de modèles de taille 2.5". Je comparai
         les spécifications de mon ancien Hitachi avec mon nouveau
         Seagate et constatai avec étonnement qu'elles étaient à
         peu près identiques! Mais pourtant... Si je voulais
         améliorer les choses, je devais donc choisir un disque à
         7200 tours/minute. Mais ces disques ne sont pas offerts
         par tous les fabricants. J'avais essentiellement le choix
         entre Seagate, Hitachi et Toshiba. Je finis par choisir un
         Seagate, car selon les sites que j'ai consultés,
         essentiellement des forums, ces disques étaient fiables.
         En particulier, Seagate offre une garantie de trois ans
         tandis que la plupart des autres fabricants n'offrent
         qu'un an de garantie.
      </p>
      <p>
         Le choix de la marque fait, il me restait à décider entre
         un SATA 1 et un SATA 2. Avec le SATA 1, j'étais certain
         d'avoir quelque chose de compatible avec mon portable,
         mais je pouvais me retrouver avec un disque d'ancienne
         génération. Je risquais de ne pas gagner autant que je
         voulais en performance. Avec un SATA 2, j'obtiendrais le
         meilleur de la technologie, mais je devrais prendre le
         risque de me retrouver face à une incompatibilité du
         nouveau disque avec ma machine. Je vérifiai donc
         soigneusement, sur le site de Seagate, qu'un cavalier
         était disponible sur le disque pour le faire basculer en
         mode SATA 1. Le cavalier était bien là!
      </p>
      <p>
         Après avoir choisi le disque, je m'assurai que les
         dimensions correspondaient bien à celles de mon ancien
         disque. Tel était le cas! Le nouveau disque entrerait
         parfaitement dans le logement prévu à cet effet sur mon
         portable!
      </p>
      <p>
         Et Linux dans tout ça, dirons-nous? Eh bien, le disque ne
         fait aucune différence ici! C'est le contrôleur SATA,
         intégré à la carte mère, qui détermine comment le disque
         est accédé et par le fait même la possibilité de
         compatibilité avec Linux. Comme mon disque dur précédent
         fonctionnait sous Linux et comme je ne changeais pas le
         contrôleur, il n'y avait rien à craindre.
      </p>
      <h2>
         Boîtier pour disque externe
      </h2>
      <p>
         Il existe une quantité de boîtiers différents, mais
         malheureusement aucun ne me contenta complètement. Mon
         idée était de convertir mon vieux disque poussif en
         périphérique de stockage USB pour faire des sauvegardes,
         mais je pensais aussi utiliser le boîtier pour installer
         temporairement d'autres disques. Par exemple, si la
         machine familiale saute et mes parents décident d'acheter
         une machine à bas prix dans une grande surface, je
         pourrais installer le vieux disque dur de la machine
         défunte dans le boîtier, raccorder le boîtier par port USB
         à la nouvelle machine et ainsi transférer les données,
         sans ouvrir le boîtier de la nouvelle machine et risquer
         de briser la garantie! En effet, les machines des grandes
         surfaces sont très sujettes à ce problème de bris de
         garantie si on ouvre le boîtier.
      </p>
      <p>
         Mais pour cela, il fallait que mon boîtier accepte les
         disques 3.5" en plus des 2.5"! Tant qu'à faire, j'aurais
         bien aimé avoir un boîtier pour lecteurs 5.25" acceptant
         aussi les disques durs de 3.5" et 2.5"! Cela m'aurait
         permis d'installer temporairement un lecteur DVD pour me
         construire un lecteur externe en cas de mauvais
         fonctionnement du lecteur de mon portable. Je ne parvins
         toutefois pas à trouver cela.
      </p>
      <p>
         Avant d'acheter le boîtier, je devais donc fixer deux
         paramètres: le standard (IDE ou SATA) et la dimension
         (2.5", 3.5" ou 5.25"). Seules des stations de dockage
         permettent d'installer temporairement des disques des deux
         premiers formats, mais le disque se trouve à l'air libre,
         sans aucune protection. Un boîtier fermé a pour mérite de
         protéger le disque et d'en faire un véritable périphérique
         externe qu'on peut transporter sans trop avoir peur de
         l'endommager. En y pensant bien, je me suis rendu compte
         que c'est ça que je voulais plutôt qu'un adaptateur
         permettant de brancher n'importe quel disque
         temporairement.
      </p>
      <p>
         Je finis donc par me décider pour un boîtier spécifique à
         mon disque dur, de marque Vantec. D'après mes recherches,
         ça semblait une bonne marque et en plus, seul Windows 98
         nécessitait un pilote pour le fonctionnement du disque.
         Cela me donna un degré de confiance suffisant pour la
         compatibilité avec Linux. Je choisis un modèle avec un
         port USB et un port eSATA pusique les prix se
         ressemblaient beaucoup. Le standard USB 2 autorise un
         débit maximal de 480MBps tandis que le eSATA permet le
         débit maximal de 300Mo/s autorisé par SATA 2! C'est donc
         beaucoup plus rapide en mode eSATA! Évidemment, mon disque
         dur SATA 1 limitera le débit à 150Mo/s; ce n'est le
         boîtier qui va en faire un disque SATA 2! Par contre, la
         plupart des machines, dont les miennes, sont dépourvues de
         ports eSATA si bien que l'USB est encore indispensable. La
         connexion eSATA, c'est donc pour le futur.
      </p>
      <p>
         Pour ce qui est de brancher des disques temporairement, je
         pourrais avoir un câble prévu à cet effet pour ça chez <a
         href="http://www.tigerdirect.ca">TigerDirect</a>. Ce câble
         fournit une interface USB vers IDE et SATA! Il permet de
         connecter aussi bien les disques SATA que les anciens IDE
         (ou Parallel ATA ou PATA) et même les disques
         d'ordinateurs portables de norme IDE! Il ne m'a pas semblé
         crucial pour le moment de faire l'acquisition de ce câble;
         connaître son existence et un endroit où je peux l'obtenir
         me suffit.
      </p>
      <h2>
         Mémoire
      </h2>
      <p>
         Une recherche sur Google plus tard, je savais que mon Dell
         acceptait de la mémoire DDR2 sous forme de modules SODIMM,
         de type PC2-4200 ou PC2-5300. Malheureusement, je ne
         trouvais que de la PC2-5400! Mais quelques recherches plus
         tard, j'appris que c'était équivalent à la PC2-5300! En
         effet, multiplier 533MHz par 8 donne 4264, ce qui est très
         près de 4200 ou 4300. Multiplier 667MHz par 8 donne 5336,
         ce qui est entre 5300 et 5400. Il me suffit donc d'opter
         pour deux modules de 1Go PC2-5400 et le tour fut joué! Je
         grimperais à 2Go de mémoire.
      </p>
      <h1>
         L'installation de la mémoire, quelques péripéties pour
         pimenter les choses
      </h1>
      <p>
         J'ai reçu les pièces mercredi, 2 juillet 2008, mais je me
         suis forcé à la patience: inutile de tester tout ça le
         soir même, stresser à mort en cas de dysfonctionnement,
         mal dormir et me condamner à une journée de travail longue
         et difficile propice au découragement. J'attendis donc
         vendredi soir pour installer les pièces, mais je ne me
         privai pas, mercredi soir, de tout inspecter avec le plus
         grand soin! Tout s'avéra conforme à mes attentes.
      </p>
      <p>
         Alors, vendredi soir, 4 juillet 2008, je posais mon
         portable à l'envers sur mon lit et lui enlevais la
         batterie. J'enlevai ensuite les vis du capot fermant le
         compartiment à mémoire et retirai les deux modules de
         512Mo d'origine. Lorsque je déposai les modules sur mon
         bureau, ils produisirent un bruit analogue à de petits
         blocs de construction. Mais je savais très bien que
         j'étais loin de jouer avec des blocs Légo!
      </p>
      <p>
         Je déballai le premier module et alignai son encoche avec
         la languette dans une première fente du compartiment.
         J'insérai le module à un angle de 45 degrés comme prescrit
         par le manuel de l'utilisateur et l'abaissai. Le module
         s'enclencha dans un clic. Satisfait, je passai au module
         suivant. L'installation terminée, je refermai le capot,
         remis les vis et la batterie puis posai le portable sur
         mon bureau.
      </p>
      <p>
         Je branchai la machine pour ne pas utiliser la batterie
         pour rien, l'allumai puis j'accédai au programme de
         configuration du BIOS afin de connaître la quantité de
         mémoire détectée. Je découvris alors avec déception que la
         machine ne détectait qu'un seul giga-octet de mémoire
         plutôt que deux.
      </p>
      <p>
         Je rouvris donc le compartiment à mémoire et réinstallai
         le premier module de mémoire. Celui-là me sembla suspect,
         car le second avait émis un clic plus fort lors de son
         enclenchement dans la fente. La chose faite, je refermai
         le compartiment, remis la batterie, puis rallumai la
         machine. C'est alors que j'obtins le message d'erreur
         suivant sur un écran noir après l'affichage du logo de
         Dell:
      </p>
<pre>
The amount of system memory has changed.
If you did not change your memory...
To resolve this issue, try to reseat the memory.
</pre>
      <p>
         Plusieurs s'accorderont à dire que d'après ce message, il
         y a de quoi croire que la mémoire est mal installée. C'est
         en tout cas ce que je pensai si bien que je tentai de
         réinsérer les deux modules. À chaque tentative, la
         frustration augmentait en moi et risquait de me faire
         commettre des erreurs du genre échapper le portable au
         moment de le retourner pour tester! Quoi que je fasse,
         absolument aucun résultat! J'obtenais toujours et toujours
         le même message d'erreur. J'essayai avec un seul des deux
         modules, rien.
      </p>
      <p>
         Choqué, j'en conclus que les modules étaient défectueux ou
         incompatibles avec la machine si bien que je remis un des
         anciens modules de 512Mo. À ce point, je ne remettais même
         plus le capot du compartiment et la batterie avant de
         tester! J'obtins alors exactement le même message
         d'erreur.
      </p>
      <p>
         Rendu là, je ne savais plus trop quoi faire et c'est par
         chance que je parvins à sortir de ce cul-de-sac. Je ne me
         souviens plus de ce que j'ai fait tandis que le troublant
         message s'affichait sur l'écran. Je ne sais pas pourquoi
         j'ai laissé la machine allumée plutôt que l'éteindre comme
         lors de mes tentatives précédentes. Toujours est-il
         qu'après une trentaine de secondes, la machine produisit
         un bip et ajouta le message suivant au premier message:
      </p>
<pre>
Strike the F1 key to continue, F2 to run the setup utility
Press F5 to run onboard diagnostics.
</pre>
      <p>
         J'appuyai alors sur F2 et vérifiai avec le programme de
         configuration qui surgit la quantité de mémoire dont je
         disposais: 512Mo! Je quittai le programme de configuration
         avec la touche Escape, puis aboutis dans le menu de GRUB
         me permettant de choisir entre Windows et Linux.
         J'éteignis alors la machine et rallumai pour aboutir dans
         le menu de GRUB: la machine s'amorçait normalement!
      </p>
      <p>
         Ayant ainsi découvert comment «réparer» mon portable, je
         l'éteignis encore une fois, réinstallai les nouveaux
         modules de mémoire, puis testai. J'eus le message,
         attendis, crus que cette fois-ci, ça allait bloquer, puis
         je pus enfin appuyer sur F2 pour accéder au programme de
         configuration. Je vérifiai: 2Go de mémoire! J'avais
         réussi! Fier de mon coup, j'éteignis la machine, refermai
         le compartiment à mémoire et remis la batterie.
      </p>
      <p>
         Je rallumai le tout et cela continua de fonctionner. Je
         démarrai alors l'utilitaire de diagnostics de Dell, en
         maintenant la touche F12 enfoncée lors du démarrage et en
         choisissant <tt>Dell Diagnostics</tt> dans le menu qui
         s'afficha. Tous les tests, y compris ceux de la mémoire,
         réussirent. Enfin, je démarrai avec succès Windows et
         Linux. La mise à jour de la mémoire était ainsi terminée
         et avait réussi!
      </p>
      <h1>
         Installation du disque dur, plus long que difficile
      </h1>
      <p>
         Ayant réussi avec la mémoire, je passai au disque dur. Je
         dus, comme la dernière fois, retirer l'ancien disque et
         lui ôter la languette spécifique à Dell qu'il comportait.
         Je vissai cette languette sur le nouveau disque sans trop
         de mal. Puis je glissai le disque dans le logement prévu à
         cet effet dans le portable.
      </p>
      <p>
         Non, en fait tout ne fut pas aussi simple. Je vérifiai
         avant tout qu'il y avait bien un cavalier pour faire
         basculer le disque en mode SATA 1. D'après ce que je
         voyais, il y avait des broches mais pas de cavalier du
         tout pour les relier. Le plastique duquel sortaient les
         broches étaient noir pour les deux premières et blanc pour
         les deux autres. Le blanc devait être un indicateur d'où
         je devais placer le cavalier pour avoir le SATA 1. Le
         manuel du disque, que je trouvai sur le site de Seagate,
         confirmait cette supposition. Inquiet étant donné que je
         ne possédais pas de cavalier en surplus, je cherchai sur
         Internet et découvris que ça se pouvait que mon Seagate
         soit en mode SATA 1 par défaut! Le cavalier serait déjà en
         place, alors. Mais je ne pouvais en être totalement sûr.
         Je pensai tâter avec une épingle, pour vérifier la
         dénivellation, mais je décidai enfin de ne pas me casser
         la tête et insérer le disque dur tel quel dans la machine.
         Cela fonctionna! En cas de problème, j'aurais essayé de
         sacrifier le cavalier d'un vieux graveur de CD, mais je
         craignais qu'il ne soit trop gros.
      </p>
      <p>
         Ainsi, l'installation du disque dur se passa bien et Dell
         Diagnostics, que j'exécutai une nouvelle fois, ne rapporta
         aucune erreur. Je démarrai donc avec le CD d'Ubuntu et
         activai l'éditeur de partitions pour voir si le disque
         était bien trouvé. Je pus sans problème initialiser la
         table des partitions du nouveau disque si bien que Linux
         pouvait y accéder! Il ne restait plus qu'à réinstaller mes
         systèmes d'exploitation et recopier mes données sur le
         nouveau disque!
      </p>
      J'aurais pu, comme la fois précédente, réinstaller Windows et
      Linux manuellement pour ensuite recopier mes données depuis
      le Salvator, par connexion réseau. Mais je décidai plutôt de
      profiter de l'occasion pour construire et tester mon nouveau
      disque dur externe!<br />
       <br />
       
      <p>
         Le boîtier NexStar se présente sous la forme d'un prisme
         rectangulaire en aluminium dans lequel est insérée une
         carte de circuits imprimés sur laquelle est soudée une
         petite puce. Pour installer le disque dur, il faut sortir
         cette carte du prisme, brancher le disque dans les
         connecteurs prévus à cet effet et lier le disque à la
         carte grâce à quatre vis. Tout cela se passa sans
         difficulté. Après, je glissai le disque dans le boîtier et
         unis les deux parties du système par deux vis. L'opération
         terminée, je disposais d'un disque dur externe à part
         entière.
      </p>
      <p>
         Le disque peut être relié à un PC par le port USB ou
         encore par le port eSATA, pour les rares PC qui en
         possèdent. Le boîtier est ainsi livré avec un câble USB et
         un câble eSATA. Le câble USB a comme particularité qu'il
         peut être raccordé à deux ports différents de
         l'ordinateur. Ceci permet d'alimenter en électricité même
         les disques les plus gourmands. Il y a aussi une entrée
         pour un transformateur sur le boîtier, mais aucun
         transformateur n'est livré avec l'unité.
      </p>
      <p>
         Le disque dur installé, je reliai le boîtier à mon
         portable avec le câble USB. Aussitôt que la connexion fut
         établie, le disque à l'intérieur du boîtier se mit à
         tourner et Linux détecta l'apparition d'un nouveau
         périphérique. Je dus par contre demander à l'éditeur de
         partitions de s'actualiser pour qu'il trouve le nouveau
         disque. Je n'eus besoin d'utiliser qu'un port USB:
         l'alimentation de ce port suffisait pour le disque.
      </p>
      <p>
         Ensuite, je pus effectuer les opérations suivantes sans
         difficulté autre qu'un plantage inopiné et frustrant de
         l'éditeur de partitions. Les programmes qui se ferment
         spontanément sans afficher de message d'erreur, ça
         commence réellement à me taper sur le système et à me
         faire envisager de renoncer à Linux! Heureusement, le
         plantage se fit entre deux opérations si bien que je ne
         perdis ni temps ni données.
      </p>
      <ul>
         <li>
            Copier la partition NTFS de Windows vers le nouveau
            disque.
         </li>
         <li>
            Copier la partition ext3 de Linux vers le nouveau
            disque.
         </li>
         <li>
            Créer une partition de 20Go destinée à accueillir une
            distribution de Linux temporaire.
         </li>
         <li>
            Créer une partition étendue remplissant le reste du
            disque. Les autres partitions seront placées dans cette
            partition étendue; ce seront donc des partitions
            logiques.
         </li>
         <li>
            Créer une partition de 2Go pour le Swap.
         </li>
         <li>
            Créer une partition de 8Go pour stocker mon répertoire
            <tt>/home</tt>. Ceci sera éventuellement nécessaire
            puisque j'envisage d'explorer d'autres alternatives
            qu'Ubuntu sur mon portable.
         </li>
         <li>
            Copier ma partition FAT32 de données vers le nouveau
            disque dur et la redimensionner pour qu'elle occupe
            tout l'espace restant. J'ai pensé la convertir en NTFS,
            mais au vu des nombreux problèmes rencontrés avec Linux
            ces temps-ci, j'ai opté pour une valeur sûre, cette
            fois. FAT32, c'est simple et éprouvé!
         </li>
      </ul>
      <p>
         Les copies de données prirent un temps fou, mais cela
         fonctionna parfaitement! Le temps n'est pas dû à la
         lenteur du boîtier, qui est excellent mais bien à la
         quantité de données que j'avais à transférer. Pendant la
         copie, une diode d'activité clignota sur le boîtier qui
         finit par devenir tiède. Sachant que la température du
         disque pouvait parfois monter à 50 degrés dans mon
         portable, j'en conclus que le boîtier absorbait bien la
         chaleur.
      </p>
      <p>
         Le réaménagement de mon disque permettra éventuellement de
         tester d'autres distributions de Linux étant donné que
         depuis la version 8.04, d'agaçants problèmes persistent
         avec ma machine: l'écran externe s'éteint périodiquement,
         la machine plante à l'occasion pendant les écrans de
         veille et surtout, la connexion sans fil est souvent dix
         fois plus lente qu'elle devrait être! Il ne semble y avoir
         aucune autre solution que la bidouille, alors autant
         essayer avec une autre distribution.
      </p>
      <p>
         Après avoir fini le transfert, je quittai l'éditeur de
         partitions et débranchai le disque dur externe. Il me
         fallut ensuite reconfigurer ma partition Linux pour
         l'adapter à la nouvelle configuration. D'abord, pour
         accéder à son contenu, je la montai de la façon suivante:
      </p>
<pre>
sudo mkdir /media/ubuntu
sudo mount -t ext3 /dev/sda2 /media/ubuntu
sudo mkdir /media/home
sudo mount -t ext3 /dev/sda6 /media/home
</pre>
      <p>
         Les deux partitions montées, je pouvais accéder à leur
         contenu dans <tt>/media/ubuntu</tt> et
         <tt>/media/home</tt>. La deuxième partition était vide
         puisque je venais de la créer. Je tapai <tt>mv
         /media/ubuntu/home/* /media/home</tt> pour déplacer mon
         répertoire personnel de la partition d'Ubuntu vers la
         nouvelle partition dédiée. Ensuite, je mis à jouer le
         fichier <tt>/media/ubuntu/etc/fstab</tt> afin qu'il pointe
         vers la nouvelle partition <tt>/home</tt>. Je dus aussi
         mettre à jour les UUID des partitions pour que les bonnes
         partitions soient référencées dans <tt>fstab</tt>. Ceci
         fut plus long que difficile; j'obtins toute l'information
         nécessaire par <tt>ls -l /dev/disk/by-uuid</tt>.
      </p>
      <p>
         Ensuite, je dus éditer
         <tt>/media/ubuntu/boot/grub/menu.lst</tt> afin de mettre à
         jour la ligne <tt># kopt=</tt> donnant les options à
         passer au noyau lors du démarrage. En particulier, il m'a
         été nécessaire de mettre à jour l'option <tt>root</tt>
         avec le bon <tt>UUID</tt> correspondant à
         <tt>/dev/sda2</tt>. Sans cela, l'amorçage aurait échoué,
         bien entendu. Pour finir, j'ajoutai l'option
         <tt>resume=</tt> pour m'assurer que le noyau connaissait
         bien ma partition de swap, pour le retour d'hibernation.
         La ligne finale devint alors:
      </p>
<pre>
# kopt=root=UUID=687a4f50-769d-48ef-9b2b-6c4f62f12d39 ro resume=UUID=d7c2a266-71ba-4429-b47e-ad7fa85b6bdc
</pre>
      <p>
         Il restait deux étapes pour terminer la configuration.
         D'abord, je réinstallai GRUB en utilisant la procédure
         décrite sur <a
         href="http://ubuntuforums.org/showthread.php?t=224351">cette
         page</a>. Ceci était nécessaire pour retrouver mon menu
         d'amorçage. Ensuite, j'exécutai <tt>chroot
         /media/ubuntu</tt> suivi de <tt>sudo
         /usr/sbin/update-grub</tt> pour que la mise à jour de
         <tt>kopt</tt> soit propagée à tous les noyaux disponibles
         d'Ubuntu. La chose faite, je redémarrai l'ordinateur.
      </p>
      <p>
         Suite à tous ces transferts et à tous ces ajudtements,
         j'obtins un système 100% fonctionnel: Windows et Linux
         démarraient sans aucun problème! Si j'avais réinstallé
         manuellement, j'aurais passé plus de temps encore à tout
         reconfigurer! Avec la technique que j'ai utilisée, en une
         soirée, mon transfert de disque dur était complété!
      </p>
      <p>
         Éventuellement, le disque dur externe sera reformaté et
         abritera des sauvegardes de données. Ce sera un support de
         sauvegarde secondaire, complémentaire aux disques optiques
         que j'utilisais avant. J'espère que cette redondance
         compensera la fiabilité de plus en plus douteuse des
         disques optiques. En effet, après avoir découvert que
         plusieurs DVD sur lesquels j'avais gravé des films
         fonctionnaient moins bien après quelques mois, j'ai de
         plus en plus de doutes.
      </p>
      <h1>
         Ajout du port eSATA
      </h1>
      <p>
         Samedi, 5 juillet 2008, j'entrepris l'installation de la
         dernière pièce venant avec mon boîtier pour disque dur
         externe: une languette intégrant un port eSATA supposée
         s'insérer dans un compartiment pour carte d'extension
         d'une tour ATX. Sur la face externe de la languette se
         trouve le port tandis que sur la face interne, on trouve
         un câble serti d'un connecteur SATA ordinaire. Ce
         connecteur est destiné à être raccordé à un port SATA sur
         la carte mère. Génial, pensai-je, je vais avoir un port
         eSATA aujourd'hui, sans devoir attendre ma prochaine
         machine! Malheureusement, tel n'est pas le cas.
      </p>
      <p>
         Les connecteurs de la languette fonctionnent très bien. On
         pourrait ôter les vis reliant le câble à la languette et
         ainsi obtenir un adaptateur de eSATA vers SATA. Mais à
         quoi bon puisqu'il faut ouvrir le boîtier de la machine à
         chaque fois pour raccorder le disque dur externe. Eh bien,
         c'est <i>ainsi</i> que Vantec voit les choses, car la
         languette n'entre <i>pas</i> dans la fente de mon boîtier!
         J'ai essayé pendant longtemps, sans succès. J'ai fini par
         découvrir que chaque fente derrière le boîtier était
         séparée par une encoche et la largeur de la languette est
         juste un peu trop grande pour passer entre deux encoches!
         Elle n'entre donc jamais correctement. De plus, elle
         semble trop longue si bien qu'elle ressort et empêche de
         bien placer la vis de rétention. Plus précisément, la
         longueur de la languette de Vantec est exactement 1.9cm
         tandis que la languette que j'ai enlevée du boîtier avant
         d'essayer d'installer mon port eSATA avait une longueur de
         1.8cm. J'ai mesuré la longueur de la languette d'une
         vieille carte réseau que j'avais: 1.8cm. Par contre, une
         languette provenant d'une vieille picouille IBM mesurait
         1.9cm! Bref, il y a deux types de languettes et je suis
         justement tombé sur le boîtier me permettant d'en utiliser
         un seul type.
      </p>
      <p>
         Choqué par cette incompatibilité qui montre qu'il existe
         des composantes incompatibles avec ma tour que je pensais
         pourtant conforme au standard ATX, j'ai songé jeter la
         languette sans aucune forme de procès. À bien y réfléchir,
         je vais plutôt l'envoyer au recyclage avec le vieux disque
         dur Hitachi et le lecteur DVD morts. Par exemple, Bureau
         en Gros et Future Shop ramassent les vieilles pièces ne
         servant plus à rien; je pourrais demander à mes parents
         d'aller porter mes corps morts là! Mais avant d'en venir
         là, j'ai contacté Vantec, Dytronix et Antec afin de savoir
         s'il y aurait une solution pour obtenir un port eSATA.
         Peut-être que l'une des trois entreprises pourra me faire
         parvenir une languette compatible avec ma tour, mais il se
         peut que ce soit en échange de la languette incompatible.
         Il est donc judicieux, pour le moment, de la conserver...
      </p>
      <p>
         Les solutions alternatives pour obtenir un port eSATA ne
         valent pas la peine. Je pourrais essayer de trouver une
         autre languette eSATA, mais je risque bien sûr d'avoir le
         même problème de compatibilité. Je pourrais tenter de
         changer le boîtier de ma machine en <i>espérant</i> que le
         nouveau sera compatible avec la languette, mais ce serait
         stupide et radical comme solution! Je pourrais aussi
         changer la carte mère pour un modèle doté d'un port eSATA,
         mais ça aussi, ce n'est pas très brillant. Enfin, je
         pourrais m'acheter une carte PCI avec un contrôleur SATA
         et un ou deux ports eSATA, mais la carte me coûtera entre
         50$ et 60$ en plus de risquer de comporter un jeu de puces
         ne pouvant être piloté que sous Windows, avec des
         logiciels spécifiques. Et peut-être même, tant qu'à y
         être, que la carte aussi sera incompatible avec mon
         boîtier! J'en étais rendu à douter à ce point-là.
      </p>
      <p>
         Pour le moment, je ne sais pas si le problème vient de la
         languette ou du boîtier de mon ordinateur. La
         spécification <a
         href="http://www.formfactors.org">ATX</a>, d'après ce que
         je peux en comprendre, ne précise pas la longueur de ces
         languettes si bien que c'est peut-être cela la source du
         problème. En tout cas, ce boîtier Antec Lifestyle Sonata
         II m'aura coûté une fortune pour ne m'apporter que des
         ennuis. J'aurais été bien mieux de prendre un boîtier très
         sobre, sans bloc d'alimentation, et le doter du bloc de
         qualité de mon choix. Je vais retenir la leçon!
      </p>
      <p>
         Dimanche, 13 juillet 2008, je tentai de crochir la
         languette avec une pince pour qu'elle entre dans le
         boîtier. Cela ne réussit pas parfaitement, mais je finis
         par la faire entrer. Elle était un peu inclinée et trop
         longue si bien que la vis de rétention ne permettait plus
         de tenir la languette voisine; je dus donc ajouter une vis
         pour cette languette. Mais la languette eSATA s'avéra
         stable et je pouvais brancher quelque chose dedans sans
         qu'elle ne se décroche.
      </p>
      <h1>
         Et que vais-je faire avec tout ça si le portable rend
         l'âme?
      </h1>
      <p>
         Il se pouvait fort malheureusement que ma machine rende
         l'âme dans les semaines, voire dans les jours suivant la
         mise à jour. En effet, elle avait donné quelques signes de
         faiblesse quelques temps auparavant, mais semblait s'être
         stabilisée. En prévision de cela, j'ai prévu quelques
         plans pour mes nouveaux accessoires.
      </p>
      <p>
         Idéalement, je m'achèterais un portable sans disque dur et
         sans mémoire pour insérer mes composantes dedans. On
         appelle de telles machines des <i>barebone notebooks</i>
         ou encore <i>barebooks</i> et je n'en trouve nulle part!
         Peut-être ai-je mal cherché, j'espère bien en tout cas.
         Une alternative possible serait de tenter de négocier avec
         un fabricant pour qu'il intègre mes composantes dans un
         nouveau portable de sa marque sans me charger des coûts
         additionnels pour les pièces équivalentes. Mais je risque
         de devoir expédier mes pièces par la poste et le coût et
         les délais d'expédition pourraient diminuer quelque peu
         l'intérêt de cette idée.
      </p>
      <p>
         Au cas où je ne réussirais pas à intégrer les pièces à un
         nouveau portable, je devrais les recycler d'une façon ou
         d'une autre. Pour le disque dur, je n'aurais qu'à
         m'acheter un second boîtier externe Vantec et l'y insérer.
         Je me retrouverais alors avec un deuxième disque
         externe... et une deuxième languette eSATA... J'essaierais
         peut-être de l'insérer dans mon boîtier, peut-être
         celle-là fonctionnerait mieux... Au moins, le disque
         serait toujours accessible et utilisable. Quant à la
         mémoire, la vendre sur Internet est la seule chose qui
         resterait à faire, à moins de réussir à avoir un portable
         moyen de gamme avec 512Mo de mémoire et lui mettre mes
         2Go!
      </p>
      <h1>
         Conclusion
      </h1>
      <p>
         Cette mise à jour a été bénéfique pour mon portable. La
         machine est devenue plus rapide suite au processus et le
         disque dur externe qui en a résulté, bien qu'USB seulement
         en pratique, va peut-être éventuellement m'éviter de
         lourdes pertes de données et d'immenses frustrations.
      </p>
      <p>
         Cette mise à jour était bien entendu discutable et pas
         indispensable. La machine aurait très bien pu fonctionner
         dans l'état où elle était avant. Seul le temps dira si
         j'ai bien fait et si je dois m'en mordre les doigts.
      </p>
      <div class="footer">
         <a href="http://validator.w3.org/check?uri=referer"><img
         src="http://www.w3.org/Icons/valid-xhtml10"
         alt="Valid XHTML" height="31" width="88" /></a><a
         href="http://jigsaw.w3.org/css-validator/check/referer"><img
          src="http://jigsaw.w3.org/css-validator/images/vcss"
         alt="Valid CSS" height="31" width="88" /></a>
      </div>
   </body>
</html>

